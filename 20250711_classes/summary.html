<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="prism.js" defer></script>
    <link rel="stylesheet" href="prism.css">
    <script src="script.js" defer></script>
    <title>Классы</title>
</head>
<body>
    <h1>Классы</h1>
    <h2>Способ создания типа данных</h2>
<p>Класс - это способ создания нового типа данных.
    Подобно, напрмер, уже созданному до нас Date.</p>
<p><b>Задача:</b> создать несколько переменных, хранящих информацию о людях.</p>
    <pre>
    <code class="language-JavaScript">
        let man = {
            'firstname': 'Вася',
            'age': 35
        }
        let girl = {
            'firstname': 'Ася',
            'age': 32
        }
        let boy = {
            'firstname': 'Дима',
            'age': 5
        }
    </code>
    </pre>        
<h2>Синтаксис</h2>
<ol>
    <li>Ключевое слово <b>class</b></li>
    <li>Название - <s>традиционно</s> всегда с большой буквы</li>
    <li>В фигурных скобках - свойства класса - <b>поля</b> и <b>методы</b></li>
    <li>Поле - переменная в классе.</li>
    <li>Метод - функция в классе <b>без ключевого слова function</b>.</li>
    <li>Конструктор (называется constructor) - метод для создания и инициализации класса. <b>Единственный вызывается по имени класса.</b></li>
</ol>
<pre>
    <code class="language-JavaScript">
class Human {
    firstname                   // поле
    birthday                    // поле
    constructor(newname, dt) {  // метод
        this.firstname = newname  // 'Вася'
        this.birthday = dt        // new Date(2000, 5, 2)
    }
}

let man = new Human('Вася', new Date(1990, 2, 4))
let girl = new Human('Ася', new Date(1993, 6, 4))
let boy = new Human('Дима', new Date(2019, 10, 18))
    </code>
    </pre>   
<p>Теперь можно создавать объект класса, а присваиванием занимается его метод-конструктор. Но имя и дату рождения можно "испоритить" извне:</p>
<pre>
    <code class="language-JavaScript">
class Human {
    firstname                   // поле
    birthday                    // поле
    constructor(newname, dt) {  // метод
        this.firstname = newname  // 'Вася'
        this.birthday = dt        // new Date(2000, 5, 2)
    }
}

let man = new Human('Вася', new Date(1990, 2, 4))
let girl = new Human('Ася', new Date(1993, 6, 4))
let boy = new Human('Дима', new Date(2019, 10, 18))
girl.firstname = 'Миша'
console.log(girl.firstname)
    </code>
    </pre> 
<p>Решение: поле сделать приватным и создать метод-геттер:</p>
<pre>
    <code class="language-JavaScript">
class Human {
    #firstname                  // приватное поле
    birthday                    // поле
    constructor(newname, dt) {  // метод
        this.firstname = newname  // 'Вася'
        this.birthday = dt        // new Date(2000, 5, 2)
    }
    get name() {
        return this.#firstname
    }
}

let man = new Human('Вася', new Date(1990, 2, 4))
let girl = new Human('Ася', new Date(1993, 6, 4))
let boy = new Human('Дима', new Date(2019, 10, 18))
// girl.#firstname = 'Миша' - ошибка, нельзя записывать и читать приватное поле
console.log(girl.name)  // обращение к методу getter - без круглых скобок!
    </code>
    </pre> 
<h2>Смысл в программировании</h2>
    <h1>Домашнее задание</h1>
    <ol start="3">
        <li>Написать функцию, которая пишет "Привет, имя!" имя должно быть параметром (ЗДЕСЬ НУЖНО console.log, ДАЛЕЕ НЕЛЬЗЯ!!!) <span onclick="show_hide('t3')">Ответ</span>
        <pre id="t3" style="display:none">
        <code class="language-JavaScript">
            function hello(name) {
                console.log('Привет,', name, '!')
            }
        </code>
        </pre>        
        </li>
        <li> Написать функцию issum, которая проверяет, является ли третий аргумент суммой двух первых. Возвращать должна true или false. 
Пример:
    <pre>
    <code class="language-JavaScript">
    function issum(ВАШИ ПАРАМЕТРЫ) {
        return ВАШ КОД
    }
    console.log(issum(1, 2, 3)) // true
    console.log(issum(1, 2, 5)) // false
    </code>
    </pre>
    <span onclick="show_hide('t4')">Ответ</span>
        <pre id="t4" style="display:none">
        <code class="language-JavaScript">
        function issum(a, b, c) {
            return a + b == c
        }
        console.log(issum(1, 2, 3)) // true
        console.log(issum(1, 2, 5)) // false
        </code>
        </pre>        
</li>
<li> Написать функцию, которая сравнивает, равны ли два массива поэлементно
    <pre>
    <code class="language-JavaScript">
    function equal(ВАШИ ПАРАМЕТРЫ) {
        ВАШ КОД
        return ВАШ ВОЗВРАТ
    }
    console.log(equal([1, 2, 3], [1, 2, 3])) // true
    console.log(equal([1, 2], [1, 2, 3])) // false
    console.log(equal([11, 22, 33], [0, 2, 3])) // false
    </code>
    </pre>
    <span onclick="show_hide('t5')">Ответ</span>
        <pre id="t5" style="display:none">
        <code class="language-JavaScript">
        function issum(arr1, arr2) {
            if (arr1.length != arr2.length)
                return false
            for(let i = 0; i &lt; arr1.length; i++) {
                if (arr1[i] != arr2[i])
                    return false
            }
            return true
        }
        console.log(equal([1, 2, 3], [1, 2, 3])) // true
        console.log(equal([1, 2], [1, 2, 3])) // false
        console.log(equal([11, 22, 33], [0, 2, 3])) // false
        </code>
        </pre>        
    </li>
    <li>Написать функцию, которая<span id="bubuh">  удаляет со страницы элементс с заданным id. Продемонстрировать её работу на странице    <span onclick="show_hide('t6')">Ответ</span>
        <div id="t6" style="display:none">
        <pre>
        <code class="language-JavaScript">
        function del(id) {
            document.getElementById(id).remove()
        }
        </code>
        </pre>
        <pre>
        <code class="language-HTML">
        &lt;input type="button" onclick="del('bubuh')" value="Стереть!"&gt;
        </code>
        </pre>
        <input type="button" onclick="bubuh.remove()" value="Стереть!">
        </div> 
        </span>
    </li>
    <li> Написать функцию, которая получает число N и создает на странице N кнопок, подписанных от 1 до N
    <span onclick="show_hide('t7')">Ответ</span>
    <b>Не забудьте про defer!</b>
        <pre id="t7" style="display:none">
        <code class="language-JavaScript">
        function buttons(N) {
            for (let i = 0; i &lt; N; i++) {
                let btn = document.createElement('input')
                btn.setAttribute('type', 'button')
                btn.value = i + 1
                document.body.appendChild(btn)
            }
        }
        buttons(150)
        </code>
        </pre> </li>
    <li> Написать функцию, которая добавляет в таблицу строку из 4 ячеек: название, цена, количество, сумма. Значения для ячеек должны быть параметрами функции
            <span onclick="show_hide('t8')">Ответ</span>
    <b>Не забудьте про defer! Таблицу создайте заранее</b>
        <pre id="t8" style="display:none">
        <code class="language-JavaScript">
        function cart(goodname, price, quantity, sum) {
            let tr = document.createElement('tr')
            let td
            for (let a of arguments) {
                td = document.createElement('td')
                td.textContent = a
                tr.appendChild(td)
            }
            tbl.appendChild(tr)
        }
        cart('яблоки', 12, 3, 36)
        cart('груши', 3, 5, 15)
        cart('сливы', 6, 7, 42)
        </code>
        </pre> </li>
    </ol>
<h2>Экзотика</h2>
<pre>
// "Старый" способ создания класса, конструктора и объекта:

function something () {
    this.a = 9
}

// {a: 9}

// Можно создать объект
let s = new something()
console.log(s.a)
</pre>
<table id="tbl"></table>
</body>
</html>